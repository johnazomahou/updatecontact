<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="√Ä partir du 30 novembre 2024, tous les num√©ros de t√©l√©phone au B√©nin passent √† 10 chiffres. Mettez √† jour vos contacts avec le pr√©fixe 01 et le format international +229. Cet outil vous permet de convertir vos num√©ros actuels en un instant, exemple : +229 01 xx xx xx xx.">
    <meta name="keywords"
        content="mise √† jour contacts B√©nin, MTN B√©nin, Celtis B√©nin, Moov B√©nin, format 10 chiffres, pr√©fixe 01, +229, num√©ro t√©l√©phone B√©nin, changement num√©ro B√©nin">
    <meta name="author" content="John Azomahou">
    <meta name="robots" content="index, follow">
    <title>Mise √† Jour des Num√©ros - Format 10 Chiffres B√©nin</title>

    <link rel="icon" type="image/x-icon" href="assets/img/logo.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --benin-green: #008751;
            --benin-yellow: #FCD116;
            --benin-red: #E8112D;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
        }

        /* Nouveau style du drapeau */
        .benin-flag {
            display: flex;
            width: 200px;
            height: 60px;
            margin: 0 auto 2rem;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }

        .flag-green {
            width: 33.33%;
            height: 100%;
            background-color: var(--benin-green);
        }

        .flag-right {
            width: 66.67%;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .flag-yellow {
            height: 50%;
            background-color: var(--benin-yellow);
        }

        .flag-red {
            height: 50%;
            background-color: var(--benin-red);
        }

        /* Le reste des styles reste identique */
        .header-wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            overflow: hidden;
            line-height: 0;
        }

        .header-wave svg {
            position: relative;
            display: block;
            width: calc(100% + 1.3px);
            height: 70px;
        }

        .header-wave .shape-fill {
            fill: #f8f9fa;
        }

        header {
            position: relative;
            background: linear-gradient(135deg, var(--benin-green) 0%, #009961 100%);
            padding-top: 6rem !important;
            padding-bottom: 8rem !important;
        }





        .upload-section {
            border: 2px dashed #dee2e6;
            padding: 40px;
            text-align: center;
            transition: all 0.3s ease;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .upload-section:hover {
            border-color: var(--benin-green);
            transform: translateY(-5px);
        }

        .icon-large {
            font-size: 120px;
            color: var(--benin-green);
            margin-bottom: 1rem;
        }

        .step-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            height: 100%;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .step-number {
            background: #e8f5e9;
            color: var(--benin-green);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .step-card:nth-child(2) .step-number {
            background: #fff9c4;
            color: #967800;
        }

        .step-card:nth-child(3) .step-number {
            background: #ffebee;
            color: var(--benin-red);
        }

        .custom-dialog {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            text-align: center;
            max-width: 90%;
            width: 400px;
        }

        .dialog-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            backdrop-filter: blur(5px);
        }

        .btn-primary {
            background-color: var(--benin-green);
            border-color: var(--benin-green);
            padding: 0.8rem 1.5rem;
            border-radius: 10px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background-color: #006d41;
            border-color: #006d41;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 135, 81, 0.3);
        }

        #fileUpload {
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid #dee2e6;
            margin-bottom: 1rem;
        }

        .success-icon {
            font-size: 64px;
            color: var(--benin-green);
            margin-bottom: 1rem;
        }

        .country-name {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
            color: var(--benin-yellow);
            margin-top: 1rem;
        }
    </style>
</head>

<body>
    <header class="text-white text-center">
        <div class="container">
            <div class="benin-flag">
                <div class="flag-green"></div>
                <div class="flag-right">
                    <div class="flag-yellow"></div>
                    <div class="flag-red"></div>
                </div>
            </div>
            <h1 class="display-4 fw-bold mb-4">Mettez √† jour vos contacts en un clic !</h1>
            <p class="lead mb-3">Passez facilement de l'ancien format (+22997509779) vers le nouveau format
                (+2290197509779)</p>
            <div
                style="border: 2px solid #4CAF50; border-radius: 8px; padding: 20px; background-color: #f9f9f9; margin: 20px; text-align: center;">
                <h3 style="color: #4CAF50; font-size: 1.5em;">üîí S√©curit√© et Confidentialit√©</h3>
                <p style="font-size: 1.1em; color: #333; line-height: 1.6;">
                    <strong>Les fichiers VCF</strong> ne quittent jamais l'ordinateur ou le smartphone de l'utilisateur.
                    <br><strong>Aucune donn√©e</strong> n'est envoy√©e √† un serveur externe ou stock√©e sur une base de
                    donn√©es.
                    <br>Le traitement est fait en <strong>JavaScript c√¥t√© client</strong> uniquement.
                    <br>Vous pouvez inspecter le <a href="#" style="color: #007BFF; text-decoration: underline;">code
                        source</a>.
                </p>
            </div>

            <div class="country-name">
                <i class="bi bi-geo-alt-fill"></i>
                R√©publique du B√©nin
            </div>
        </div>
        <div class="header-wave">
            <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120"
                preserveAspectRatio="none">
                <path
                    d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"
                    class="shape-fill"></path>
            </svg>
        </div>
    </header>

    <main class="container my-5">
        <div class="row g-4 mb-5">
            <div class="col-md-3">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h5>Exportez vos contacts</h5>
                    <p class="text-muted mb-0">Ouvrez l'application Contacts et exportez en format VCF</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h5>Uploadez le fichier</h5>
                    <p class="text-muted mb-0">S√©lectionnez votre fichier VCF sur cette page</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h5>Mise √† jour</h5>
                    <p class="text-muted mb-0">Nous ajoutons automatiquement "01" aux num√©ros</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="step-card">
                    <div class="step-number">4</div>
                    <h5>Importez</h5>
                    <p class="text-muted mb-0">R√©importez le fichier mis √† jour dans vos contacts</p>
                </div>
            </div>
        </div>

        <div class="upload-section my-5">
            <i class="bi bi-cloud-upload icon-large d-block"></i>
            <h3 class="mb-4">Uploadez votre fichier de contacts</h3>
            <form id="contactForm" class="max-width-500 mx-auto">
                <div class="mb-4">
                    <input type="file" class="form-control" id="fileUpload" accept=".vcf" required>
                </div>
                <button type="button" class="btn btn-primary" onclick="updateContacts()">
                    <i class="bi bi-arrow-right-circle-fill me-2"></i>
                    Mettre √† jour les num√©ros
                </button>
            </form>
        </div>

        <div id="downloadSection" class="text-center my-5 d-none">
            <div class="step-card">
                <i class="bi bi-check-circle-fill success-icon"></i>
                <h3 class="mb-3">Vos contacts sont pr√™ts !</h3>
                <a href="#" id="downloadLink" class="btn btn-primary">
                    <i class="bi bi-download me-2"></i>
                    T√©l√©charger le fichier mis √† jour
                </a>
            </div>
        </div>
    </main>

    <div class="dialog-overlay" id="dialogOverlay"></div>
    <div class="custom-dialog" id="successDialog">
        <i class="bi bi-check-circle-fill success-icon"></i>

        <h4 class="mb-3">Mise √† jour termin√©e !</h4>
        <p class="mb-2">Vos contacts ont √©t√© mis √† jour avec succ√®s.</p>
        <p class="mb-2">Le t√©l√©chargement va d√©marrer automatiquement...</p>
        <p class="mb-4">N'oubliez pas de r√©importer le fichier <span
                class="text-danger fw-bold">contacts_mis_a_jour</span></p>

        <!-- Ajout de l'information sur les services de cr√©ation de sites web avec lien WhatsApp -->
        <p class="mb-4">Vous souhaitez un site web comme <a href="https://johnazomahou.com"
                target="_blank">johnazomahou.com</a> ? Cliquez ici pour me contacter directement sur WhatsApp : <a
                href="https://wa.me/22997509779" class="text-primary" target="_blank">Envoyer un message</a>.</p>

        <button class="btn btn-primary w-100" onclick="closeDialog()">
            <i class="bi bi-x-circle me-2"></i>
            Fermer
        </button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Le m√™me JavaScript que pr√©c√©demment
        function showDialog() {
            document.getElementById('dialogOverlay').style.display = 'block';
            document.getElementById('successDialog').style.display = 'block';
        }

        function closeDialog() {
            document.getElementById('dialogOverlay').style.display = 'none';
            document.getElementById('successDialog').style.display = 'none';
        }

        function updateContacts() {
            const fileInput = document.getElementById("fileUpload");
            const downloadSection = document.getElementById("downloadSection");
            const downloadLink = document.getElementById("downloadLink");

            if (fileInput.files.length === 0) {
                alert("Veuillez s√©lectionner un fichier.");
                return;
            }

            const reader = new FileReader();
            reader.onload = function (event) {
                let vcfData = event.target.result;
                const contenuVcf = vcfData;

                const numerosSansTirets = contenuVcf.replace(/(TEL;[^:]*:)([^,\n]+)/g, function (ligneComplete, prefixeTel, numero) {
                    return prefixeTel + numero.replace(/-/g, '');
                });

                const operateurs = [
                    {
                        "name": "MTN",
                        "prefixes": ["50", "51", "52", "53", "54", "56", "57", "59", "61", "62", "66", "67", "69", "90", "91", "96", "97", "42", "46", "44"]
                    },
                    {
                        "name": "Moov",
                        "prefixes": ["99", "98", "95", "94", "65", "64", "63", "68", "60", "55", "58", "45"]
                    },
                    {
                        "name": "SBIN",
                        "prefixes": ["40", "41", "43"]
                    }
                ];

                const getOperatorPrefix = (numero) => {
                    const prefixeNumero = numero.substring(0, 2);
                    for (let operateur of operateurs) {
                        if (operateur.prefixes.includes(prefixeNumero)) {
                            return true;
                        }
                    }
                    return false;
                };

                const numerosFinal = numerosSansTirets.replace(/(TEL;[^:]*:)(\+229)?(\d+)/g, function (ligneComplete, prefixeTel, prefixePays, numero) {
                    const isValidNumber = numero.length === 8 && getOperatorPrefix(numero);

                    if (isValidNumber) {
                        return prefixeTel + "+22901" + numero;
                    }

                    return ligneComplete; 
                });


                const blob = new Blob([numerosFinal], { type: 'text/vcard' });
                const url = URL.createObjectURL(blob);
                downloadLink.href = url;
                downloadLink.download = 'contacts_mis_a_jour.vcf';

                showDialog();

                setTimeout(() => {
                    const tempLink = document.createElement('a');
                    tempLink.href = url;
                    tempLink.download = 'contacts_mis_a_jour.vcf';
                    document.body.appendChild(tempLink);
                    tempLink.click();
                    document.body.removeChild(tempLink);
                }, 1000);

                downloadSection.classList.remove("d-none");
            };

            reader.readAsText(fileInput.files[0]);
        }
    </script>
</body>

</html>